     <style>
         .mobbr-checkbox{
             display: table-row;
             overflow: hidden;
         }
         .mobbr-checkbox .mobbr-yesno {
            display: table-cell;
            border:1px solid #009EE0;
            width:100px;
         }
         .mobbr-checkbox .mobbr-yesno span{
             display: table-cell;
             height: 25px;
             line-height: 25px;
             width:50px;
             text-align: center;
             border: 1px solid #009EE0;
             background-color: #EEEEEE;
         }
         .mobbr-checkbox .mobbr-yesno span.selected{
             background-color: #009EE0;
             color:#fff;
         }
         .mobbr-checkbox .mobbr-yesno input{
             left: -100px;
             position: absolute;
         }
         .mobbr-checkbox label {
             display: table-cell;
             padding-left:10px;
         }

     </style>
    <tabs>
        <pane heading="Account">
            <form name="changeemail" class="form-horizontal" novalidate>

                <div class="control-group">

                    <div class="control-label">
                        <label>Username</label>
                    </div>

                    <div class="controls">
                        <input ng-model="user.username" name="username" type="text" ng-disabled="true">
                    </div>
                </div>

                <div class="control-group">

                    <div class="control-label">
                        <label>E-mail address</label>
                    </div>

                    <div class="controls">
                        <input ng-model="new_email" name="email" type="email" required>
                        <span ng-show="changeemail.email.$dirty && changeemail.email.$error.required" class="help-inline">Enter a email address.</span>
                        <span ng-show="changeemail.email.$dirty && changeemail.email.$error.email" class="help-inline">Enter a valid email address.</span>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                        <button ng-click="submitEmail(changeemail)"
                                ng-disabled="waitingemail || !changeemail.$valid || user.email == new_email"
                                type="submit"
                                class="btn btn-success">
                            <i class="icon-white mobbrloader" ng-show="waitingemail"></i>
                            Change email address
                        </button>
                    </div>
                </div>
            </form>
            <form name="changepassword" class="form-horizontal" novalidate>
                <div class="control-group">

                    <div class="control-label">
                        <label for="new_password">New password</label>
                    </div>

                    <div class="controls">
                        <input ng-model="new_password" id="new_password" name="new_password" type="password" required ng-pattern="/^.*(?=.{8,})(?=.*\d)(?=.*[a-z]).*$/">
                        <span ng-show="changepassword.new_password.$dirty && changepassword.new_password.$error.required" class="help-inline">Enter a new password</span>
                        <span ng-show="changepassword.new_password.$dirty && changepassword.new_password.$error.pattern" class="help-inline">Minimal 8 charactes, uppercase, lowercase and numbers</span>
                    </div>
                </div>

                <div class="control-group">

                    <div class="control-label">
                        <label for="new_password2">New password again</label>
                    </div>

                    <div class="controls">
                        <input name="new_password2" id="new_password2" ng-model="new_password_control" type="password" required pw-check="new_password">
                        <span ng-show="changepassword.new_password2.$dirty && changepassword.new_password2.$error.pwmatch" class="help-inline">Passwords do not match</span>
                    </div>
                </div>

                <!--<div class="control-group">

                    <div class="control-label">
                        <label for="password">Your current password</label>
                    </div>

                    <div class="controls">
                        <input ng-model="password" id="password" name="current_password" type="password" required>
                        <span ng-show="changepassword.current_password.$dirty && changepassword.password.$error.required" class="help-inline">Enter your current password</span>
                    </div>
                </div>-->

                <div class="control-group">
                    <div class="controls">
                        <button ng-click="submitPassword(changepassword)"
                                ng-disabled="!changepassword.$valid || waitingpassword"
                                type="submit"
                                class="btn btn-success">
                            <i class="icon-white mobbrloader" ng-show="waitingpassword"></i>
                            Change password
                        </button>
                    </div>
                </div>
            </form>
            <form user-settings name="profile" class="form-horizontal">
                 <img class="gravatar" ng-src="{{userSession.user.thumbnail}}">
                 We use gravatars, linked to your email address. Create your profile <a href="http://gravatar.com">here</a>
            </form>
        </pane>

        <pane heading="Legal">
            <iframe ng-show="user.kyc_level == 'none'" style="width: 100%;" class="eula" src="https://api.mobbr.com/mangopay-terms-of-use.txt"></iframe>
            <form name="security" class="form-horizontal">

                <div ng-show="user.kyc_level == 'none'" style="padding-bottom: 25px; margin-bottom: 20px; border-bottom: 1px solid #009ee0; ">
                    <label class="checkbox">
                        <input type="checkbox" ng-model="accept_mango">
                        I accept the terms
                    </label>
                </div>

                <div class="control-group">
                    <div class="control-label">
                        <label for="firstname">First name</label>
                    </div>

                    <div class="controls">
                        <input ng-model="user.firstname" name="firstname" type="text" id="firstname" placeholder="e.g. Patrick">
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-label">
                        <label for="lastname">Last name</label>
                    </div>

                    <div class="controls">
                        <input ng-model="user.lastname" name="lastname" type="text" id="lastname" placeholder="e.g. Savalle">
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-label">
                        <label for="birthday">Birth day</label>
                    </div>

                    <div class="controls">
                        <input ng-model="user.birthday" name="birthday" type="date" id="birthday">
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-label">
                        <label for="country_of_residence">Country of residence</label>
                    </div>

                    <div class="controls">
                        <select id="country_of_residence" name="country_of_residence" ng-model="user.country_of_residence"
                                ng-options="value as key for (value, key) in countriesMap"></select>
                    </div>
                </div>

                <div class="control-group">
                    <div class="control-label">
                        <label for="nationality">Nationality</label>
                    </div>

                    <div class="controls">
                        <select id="nationality" name="nationality" ng-model="user.nationality"
                                ng-options="value as value for (value, key) in countriesMap"></select>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                        <button ng-disabled="waitingsettings || (user.kyc_level == 'none' && !accept_mango)" ng-click="submitSettings()" class="btn btn-success">
                            <i class="icon-white mobbrloader" ng-show="waitingsettings"></i>
                            <span ng-bind="user.kyc_level == 'none' && 'Enable FIAT currencies' || 'Update'"></span>
                        </button>
                    </div>
                </div>
            </form>
        </pane>

        <pane heading="Display">
            <form name="security" class="form-horizontal">

                <div class="control-group">

                    <div class="control-label">
                        <label>Default currency</label>
                    </div>

                    <div class="controls">
                        <select
                                ng-model="user.currency_iso"
                                ng-options="value as key for (value,key ) in currenciesMap"
                                name="currency_iso"
                                title="the currency to which other currencies are converted when displayed"></select>
                        <span class="help-inline"></span>

                    </div>
                </div>

                <div class="control-group">

                    <div class="control-label">
                        <label>Language</label>
                    </div>

                    <div class="controls">
                        <select
                                ng-model="user.language_iso"
                                ng-options="value as key for (value,key ) in languagesMap"
                                name="language_iso"
                                title="the available languages"></select>
                        <span class="help-inline"></span>

                    </div>
                </div>

                <div class="control-group">

                    <div class="control-label">
                        <label for="timezone">Timezone</label>
                    </div>

                    <div class="controls">
                        <select ng-model="user.timezone" name="timezone" id="timezone"
                                ng-options="value as key for (value,key ) in timezones">

                        </select>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                        <button ng-disabled="waitingsettings" ng-click="submitSettings()" class="btn btn-success">
                            <i class="icon-white mobbrloader" ng-show="waitingsettings"></i>
                            Save
                        </button>
                    </div>
                </div>
            </form>
        </pane>

        <pane heading="Privacy" class="privacy-settings">
            <form name="primary" class="form-horizontal">

                <div class="special well labelwidth pull-left"></div>

                <div class="control-group" ng-repeat="(key, value) in user.setting">
                    <div class="controls">
                        <nicecheckbox key="key" value="value" user="user"></nicecheckbox>
                    </div>
                </div>

                <div class="control-group">
                    <div class="controls">
                        <button ng-disabled="waitingsettings" ng-click="submitSettings()" class="btn btn-success">
                            <i class="icon-white mobbrloader" ng-show="waitingsettings"></i>
                            Save
                        </button>
                    </div>
                </div>
            </form>
        </pane>

        <pane heading="Notifications" class="notification-settings">
        </pane>
    </tabs>