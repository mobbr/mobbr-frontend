<div id="paymentreceipt">

    <div class="page-header">
        Payment receipt
    </div>

    <div class="row">
        <span ng-bind="payment.amount | mobbrcurrency:payment.currency_iso"></span>
    </div>
    <div class="row">
        <span ng-bind="payment.paiddatetime | amDateFormat : 'YYYYMMDD HH:MM'"></span>
    </div>
    <div class="row">
        <span ng-bind="payment.description"></span>
    </div>
    <div class="row">
            <img ng-src="payment.fav_icon" ng-if="payment.fav_icon"><span> TASK URL <a ng-href="payment.uri" ng-bind="payment.uri"></a></span>

    </div>

    <div class="row" ng-if="(recieversAndSenders | filter:{selected:true}).length > 0">
        <button class="btn btn-primary" ng-click="mailSelected()">Mail selected people</button>
        <button class="btn btn-primary" ng-click="revokeSelected()">Recoke selected shares</button>
        <button class="btn btn-primary" ng-click="download()">Download invoice(s) selected</button>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th><input type="checkbox" ng-model="selectAll.selected"></th>
                <th ng-click="sortBy='username'; reverse=!reverse">Participant</th>
                <th ng-click="sortBy='role'; reverse=!reverse">Role</th>
                <th ng-click="sortBy='share'; reverse=!reverse">%</th>
                <th ng-click="sortBy='currency_iso'; reverse=!reverse">Currency</th>
                <th ng-click="sortBy='amount'; reverse=!reverse">Amount</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="participant in recieversAndSenders | orderBy:sortBy:reverse">
                <td><input ng-if="participant.unclaimed == '1'" type="checkbox" ng-model="participant.selected"></td>
                <td> <img ng-src="https://secure.gravatar.com/avatar/{{ participant.gravatar }}?s=50&default=https://mobbr.com/img/default-gravatar.png"
                          class="gravatar img-rounded"
                          width="50"
                          height="50">
                    {{participant.username}}
                </td>
                <td ng-bind="participant.role"></td>
                <td ng-bind="participant.share|number:2"></td>
                <td ng-bind="participant.currency_iso"></td>
                <td ng-bind="participant.amount | mobbrcurrency:''"></td>
            </tr>
        </tbody>
    </table>
</div>