<div class="alert alert-info" ng-hide="$mobbrStorage.token">
    The source board is empty because you are not logged in. To login or signup, go <a href="#/join">here</a>.
</div>
<tabs>
    <pane heading="Request invoices">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Ask your crowdworkers for an invoice. They have 30 days to verify their data.
                    After 30 days we either generate the invoice on their behalf or refund the payment.</small>
            </div>
        </div>

                <invoicetable id="sourcing_unrequested_invoices"
                              columns="[ 'username', 'role', 'currency', 'amount' ]"
                              api="MobbrInvoice.requestable"
                              group-by="'title'"
                              button-text="'Request invoices'"
                              button-action="requestInvoices"
                              selectable="1"
                              click-row="openPayment"></invoicetable>
    </pane>
    <pane heading="Pending invoices">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>If you don't need the invoice after all, you can cancel the request.</small>
            </div>
        </div>

                <invoicetable id="sourcing_requested_invoices"
                              columns="[ 'username', 'role', 'expiration', 'currency', 'amount' ]"
                              waiting="ciwaiting"
                              api="MobbrInvoice.requested"
                              group-by="'title'"
                              button-text="'Cancel request'"
                              button-action="cancelInvoices"
                              selectable="1"
                              click-row="openPayment"></invoicetable>
    </pane>
    <pane heading="Download invoices">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Your invoices. We generated these on behalf of your crowdworkers.</small>
            </div>
        </div>
                <invoicetable id="sourcing_reviewed_invoices"
                              columns="[ 'worker_username', 'role', 'currency', 'amount' ]"
                              api="MobbrInvoice.returned"
                              group-by="'title'"
                              button-text="'Download invoice'"
                              button-action="downloadInvoices"
                              selectable="1"
                              click-row="openPayment"></invoicetable>
    </pane>
    <pane heading="Pledges">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Tasks to which you pledged. Pledges can be revoked but every currently listed participant to the taks will be notified which can hurt your reputation.</small>
            </div>
        </div>

                <invoicetable id="sourcing_pledges"
                              columns="[ 'title', 'currency', 'amount' ]"
                              api="MobbrPayment.pledged"
                              group-by="'title'"
                              button-text="'Remove pledges'"
                              button-action="removePledgesDialog"
                              selectable="1"
                              click-row="openPayment"></invoicetable>
    </pane>
<!--
    <pane heading="Tasks">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Tasks to which you paid.</small>
            </div>
        </div>

                <invoicetable id="sourcing_tasks"
                              columns="[ 'gravatar', 'username', 'datetime', 'role', 'currency', 'amount' ]"
                              api="MobbrUri.paid"
                              group-by="'title'"></invoicetable>
    </pane>
-->
    <pane heading="Workers">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>People who worked on your tasks.</small>
            </div>
        </div>
                <invoicetable id="sourcing_workers"
                              columns="[ 'gravatar', 'username', 'roles', 'keywords', 'currency', 'amount' ]"
                              api="MobbrPerson.paid"></invoicetable>
    </pane>
</tabs>

