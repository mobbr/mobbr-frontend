<div class="alert alert-info" ng-hide="userSession.authenticated">
    The source board is empty because you are not logged in. To login or signup, go <a href="#/join">here</a>.
</div>
<tabs>
    <pane heading="Tasks">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Tasks to which you pledged or paid.</small>
            </div>
        </div>
    </pane>
    <pane heading="Crowd">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>People who worked on your tasks.</small>
            </div>
        </div>
    </pane>
    <pane heading="Invoicing">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Your monthly invoices. We generate these on behalf of your crowdworkers.</small>
            </div>
        </div>
        <div class="form-inline clearfix">
            <div class="pull-left">
                <button class="btn btn-success" ng-click="generateInvoices()" ng-disabled="numselected == 0">Download</button>
            </div>
            <div class="pull-right">
                <select ng-model="selectdate.month">
                    <option value="0">January</option>
                    <option value="1">February</option>
                    <option value="2">March</option>
                    <option value="3">April</option>
                    <option value="4">May</option>
                    <option value="5">June</option>
                    <option value="6">July</option>
                    <option value="7">August</option>
                    <option value="8">September</option>
                    <option value="9">October</option>
                    <option value="10">November</option>
                    <option value="11">December</option>
                </select>
                <select ng-model="selectdate.year">
                    <option>2014</option>
                    <option>2013</option>
                </select>
            </div>
        </div>
        <table ng-table="invoiceParams">
        <tbody ng-repeat="group in $groups">
        <tr class="ng-table-group">
            <td colspan="{{$columns.length}}">
                <a ng-click="group.$hideRows = !group.$hideRows">
                    <strong>{{ group.value }}</strong>
                </a>
            </td>
        </tr>
        <tr ng-hide="group.$hideRows" ng-repeat="user in group.data">
            <td header="'ng-table/headers/checkbox.html'">
                <input type="checkbox" ng-model="checkboxes.items[user.id]" />
            </td>
            <td sortable="name" data-title="'Name'">
                {{ user.firstname }} {{ user.lastname }}
            </td>
            <td sortable="amount" data-title="'Amount'">
                {{ user.amount }}
            </td>
        </tr>
        </tbody>
        </table>
        <script type="text/ng-template" id="ng-table/headers/checkbox.html">
            <input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value="" />
        </script>
        <div ng-repeat="invoice in invoices">
            <dl class="contractor">
                <dt>Username</dt>
                <dd ng-bind="invoice.contractor"></dd>
                <dt>Name</dt>
                <dd ng-bind="invoice.firstname + ' ' + invoice.lastname"></dd>
                <dt>Address</dt>
                <dd ng-bind="invoice.address"></dd>
                <dt>Country</dt>
                <dd ng-bind="invoice.country_of_residence"></dd>
            </dl>

            <dl class="sourcer">
                <dt>Username</dt>
                <dd ng-bind="userSession.user.username"></dd>
                <dt>Name</dt>
                <dd ng-bind="userSession.user.firstname + ' ' + userSession.user.lastname"></dd>
                <dt>Address</dt>
                <dd ng-bind="userSession.user.address"></dd>
                <dt>Country</dt>
                <dd ng-bind="userSession.user.country_of_residence"></dd>
            </dl>

            <dl class="info">
                <dt class="number">Invoice nr</dt>
                <dd ng-bind="invoice.id"></dd>
                <dt class="date">Invoice date</dt>
                <dd ng-bind="invoice.paiddatetime"></dd>
            </dl>

            <div class="details">
                <h1 ng-bind="invoice.description" class="title"></h1>
                <h2 ng-bind="invoice.uri" class="url"></h2>
            </div>

            <ul class="roles">
                <li ng-repeat="role in invoice.roles">
                    <dl class="role">
                        <dt>Role</dt>
                        <dd ng-bind="role.role"></dd>
                        <dt>Amount</dt>
                        <dd ng-bind="role.amount"></dd>
                    </dl>
                </li>
            </ul>

            <dl class="contractor">
                <dt>Subtotal</dt>
                <dd ng-bind="invoice.subtotal"></dd>
                <dt>VAT</dt>
                <dd ng-bind="invoice.vat"></dd>
                <dt>Total</dt>
                <dd ng-bind="invoice.amount"></dd>
            </dl>
        </div>
    </pane>
    <pane heading="Statistics">
        <div class="row-fluid">
            <div class="well span12 special">
                <small>Statistics on</small>
            </div>
        </div>
    </pane>
</tabs>

