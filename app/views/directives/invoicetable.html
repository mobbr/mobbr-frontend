<div>
    <form class="form-inline clearfix">
        <fieldset class="pull-left">
            <button class="btn"
                    ng-click="buttonAction(selectedIds, selectedItems)"
                    ng-disabled="selectedIds.length == 0">
                <i class="icon-white mobbrloader" ng-show="waiting"></i>
                <span ng-bind="buttonText"></span>
            </button>
        </fieldset>
    </form>
    <div class="alert" ng-show="items.length == 0" ng-bind="empty_message"></div>
    <table ng-table="invoiceTable" template-pagination="custom/pager" ng-show="items.length > 0" class="mobbrtable table table-striped table-checkbox ng-table">
        <thead>
        <tr>
            <th><input type="checkbox" ng-model="select_all"></th>
            <th ng-repeat="column in columns" ng-bind="labels[column]"></th>
        </tr>
        </thead>
        <tbody ng-repeat="group in $groups">
        <tr class="ng-table-group">
            <td colspan="{{ columns.length + 1 }}">
                <div ng-click="group.$hideRows = !group.$hideRows">
                    <span ng-class="{ 'icon-chevron-right': group.$hideRows, 'icon-chevron-down': !group.$hideRows }"></span>
                    <span ng-bind="group.value"></span>
                </div>
            </td>
        </tr>
        <tr ng-hide="group.$hideRows" ng-repeat="item in group.data">
            <td header="'ng-table/headers/checkbox.html'">
                <input type="checkbox" ng-model="checkboxes.items[item.id]" />
            </td>
            <td ng-repeat="column in columns" ng-switch on="column" class="{{ column }}">
                <span ng-switch-when="currency" ng-bind="item[column] || userSession.user.currency_iso"></span>
                <span ng-switch-when="amount"
                      ng-bind="item[column] | mobbrcurrency"
                      ng-class="{ 'text-error': item.amount < 0 }"
                      class="nowrap"></span>
                <span ng-switch-default ng-bind="item[column]"></span>
            </td>
        </tr>
        </tbody>
    </table>
    <script type="text/ng-template" id="ng-table/headers/checkbox.html">
        <input type="checkbox" ng-model="checkboxes.checked" id="select_all" name="filter-checkbox" value="" />
    </script>
    <script type="text/ng-template" id="custom/pager">
        <div class="ng-cloak">
            <div ng-if="params.settings().counts.length" class="btn-group pull-right">
                <button ng-repeat="count in params.settings().counts" type="button" ng-class="{ 'btn-primary': params.count() == count && pages.length > 1, 'disabled': pages.length < 2 || params.count() == count }" ng-click="params.count(count)" class="btn btn-mini">
                    <span ng-bind="count"></span>
                </button>
            </div>
            <div class="btn-group">
                <button ng-class="{ 'disabled': !page.active, 'btn-primary': page.number == params.page() && page.type != 'prev' && page.type != 'next' && page.type != 'more' }"
                        ng-repeat="page in pages"
                        ng-switch="page.type"
                        class="btn btn-mini">
                    <span ng-switch-when="prev" ng-click="params.page(page.number)">&laquo;</span>
                    <span ng-switch-when="first" ng-click="params.page(page.number)"><span ng-bind="page.number"></span></span>
                    <span ng-switch-when="page" ng-click="params.page(page.number)"><span ng-bind="page.number"></span></span>
                    <span ng-switch-when="more" ng-click="params.page(page.number)">&#8230;</span>
                    <span ng-switch-when="last" ng-click="params.page(page.number)"><span ng-bind="page.number"></span></span>
                    <span ng-switch-when="next" ng-click="params.page(page.number)">&raquo;</span>
                </button>
            </div>
        </div>
    </script>
</div>