<fieldset ng-mouseleave="isopen = false; unsetOpen()">
    <form ng-submit="gotoUrl(query)" class="input-group">
        <span class="input-group-addon" ng-mouseover="isopen = true">
            <span class="mobbricon mobbricon-mobbrmenu"></span>
        </span>
        <input type="{{ (urlType == 'CROWDS' || urlType == 'TASK') && 'url' || 'text' }}"
               ng-class="{ grayquery: (activeQuery && activeQuery == query && !savedQuery) }"
               class="form-control"
               ng-model="query"
               placeholder="{{placeHolders[urlType]}}"
               ng-mouseover="setOpen()"
               ng-focus="isfocus = true"
               ng-blur="isfocus = false">
        <span class="input-group-btn">
            <button ng-disabled="(activeQuery && activeQuery == query && !savedQuery)"
                    class="btn btn-default"
                    type="submit">
                <span class="mobbricon mobbricon-mobbricon"></span>
            </button>
        </span>
    </form>
    <ul class="list-unstyled query-menu logo-menu" ng-show="isfocus || isopen" role="menu">
        <li ng-click="setType('TASK')">
            <a><span class="mobbricon mobbricon-tasks"></span> Create and manage tasks</a>
        </li>
        <li ng-click="setType('CROWDS')">
            <a><span class="mobbricon mobbricon-crowd"></span> Find and invite crowdworkers</a>
        </li>
        <li ng-click="setType('TASKS')">
            <a><span class="mobbricon mobbricon-tasks"></span> Find new tasks</a>
        </li>
        <li ng-click="setType('PROFILE')">
            <a><span class="mobbricon mobbricon-person"></span> Find new persons</a>
        </li>
        <li ng-show="mobbrSession.isAuthorized()">
            <a ui-sref="box.tasks.person({ username: user })"><span class="mobbricon mobbricon-person"></span> My tasks</a>
        </li>
    </ul>
</fieldset>